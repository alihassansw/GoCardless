<template>
  <article class="slds-card">
    <section>
      <div class="slds-card__header slds-grid">
        <div class="slds-media slds-media_center slds-has-flexi-truncate slds-col slds-size_1-of-2">
          <div class="slds-media__figure">
            <span class="slds-icon_container slds-icon-standard-account" title="">
              <img width="40px" src="https://www.vectorlogo.zone/logos/gocardless/gocardless-icon.svg" />
            </span>
          </div>
          <div class="slds-media__body">
            <h2 style="font-weight: 500" class="slds-truncate slds-text-heading_small">Cancel Payment Subscription</h2>
          </div>
        </div>
        <div class="slds-col slds-size_1-of-2 slds-text-align_right"></div>
      </div>
      <div class="slds-card__body slds-card__body_inner">
        <p class="slds-text-align_center slds-text-heading_small">
          Are you sure you want to cancel this payment subscription?
        </p>
        <lightning-button
          variant="destructive"
          onclick={handleCancelPaymentClick}
          label="Cancel Payment"
          title="Non-primary action"
          class="slds-m-top_x-small slds-grid slds-grid_align-center"></lightning-button>
      </div>
    </section>
    <template if:true={showConfirmation}>
      <div class="slds-backdrop slds-backdrop_open"></div>
      <section>
        <div
          role="dialog"
          tabindex="-1"
          aria-modal="true"
          aria-describedby="modal-content-id-1"
          class="slds-modal slds-fade-in-open">
          <div class="slds-modal__container">
            <template if:true={loaded}>
              <div class="slds-m-around_medium">
                <lightning-spinner alternative-text="Loading"></lightning-spinner>
              </div>
            </template>
            <header class="slds-modal__header slds-theme_error slds-theme_alert-texture">
              <h2 class="slds-text-heading_medium">Are you sure you want to cancel this payment?</h2>
            </header>
            <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1">
              <p>This action cannot be undone.</p>
            </div>
            <footer class="slds-modal__footer slds-grid slds-grid slds-grid_align-center">
              <div class="slds-m-right_small">
                <lightning-button label="Cancel" onclick={handleCancelConfirmationClick}></lightning-button>
              </div>
              <div>
                <lightning-button
                  label="Confirm"
                  variant="brand"
                  onclick={handleConfirmCancellationClick}></lightning-button>
              </div>
            </footer>
          </div>
        </div>
      </section>
    </template>
    <div class="slds-p-horizontal_xx-small slds-text-align_center">
      <img class="custom-img" width="150px" src="https://www.vectorlogo.zone/logos/gocardless/gocardless-ar21.svg" />
    </div>
  </article>
</template>